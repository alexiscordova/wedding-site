import React, { Component } from 'react'
import classNames from 'classnames'
import Scroll from 'react-scroll'
import './style.scss'

const {
  Link,
  Events,
  animateScroll: scroll,
  scrollSpy
} = Scroll

class GlobalHeader extends Component {
  constructor(props) {
    super(props)

    this.state = {
      shouldShowShadow: false
    }

    this.scrollToTop = this.scrollToTop.bind(this)
    this.toggleShadow = this.toggleShadow.bind(this)
  }

  componentDidMount() {
    window.addEventListener('scroll', () => {
      window.scrollY >= 500 ? this.toggleShadow(true) : this.toggleShadow()
    })

    Events.scrollEvent.register('begin', (to, element) => {
      if (window.scrollY >= 500) {
        this.toggleShadow(true)
      }
    })
    Events.scrollEvent.register('end', (to, element) => {
      if (window.scrollY === 0) {
        this.toggleShadow()
      }
    })

    scrollSpy.update()
  }

  componentWillUnmount() {
    window.removeEventListener('scroll')
    Events.scrollEvent.remove('begin')
    Events.scrollEvent.remove('end')
  }

  scrollToTop(options) {
    scroll.scrollToTop()
  }

  toggleShadow(bool = false) {
    this.setState({
      shouldShowShadow: bool
    })
  }

  render() {
    const scrollOptions = {
        spy: false,
        smooth: true,
        offset: -150
      },
      classes = classNames('header', {
        'header-shadow': this.state.shouldShowShadow
      })

    return (
      <header className={classes}>
        <div className="row u-container u-block-center header-wrapper">
          <div className="column-small-2 column-medium-1">
            <a onClick={this.scrollToTop}>
              <svg xmlns="http://www.w3.org/2000/svg" width="88" height="88" viewBox="0 0 88 88" className="header-logo">
                <g>
                  <path d="M74.632,13.368 C66.45,5.186 55.571,0.679 44,0.68 C32.429,0.68 21.55,5.186 13.368,13.368 C8.409,18.329 4.825,24.209 2.717,30.845 C2.55,31.371 2.841,31.933 3.367,32.101 C3.891,32.267 4.455,31.977 4.623,31.451 C6.633,25.123 10.052,19.515 14.782,14.783 C22.586,6.978 32.963,2.68 44,2.68 C55.037,2.68 65.414,6.978 73.218,14.782 C76.508,18.073 79.114,21.789 81.061,25.75 C79.144,23.866 76.534,23.045 73.576,23.439 C71.071,23.772 69.562,25.193 68.102,26.568 C67.995,26.67 67.886,26.772 67.777,26.874 C65.963,24.912 63.735,22.993 59.461,23.436 C55.162,23.879 52.092,27.457 51.469,32.636 C50.537,32.489 49.555,32.475 48.531,32.612 C46.462,32.887 45.074,33.907 43.831,35.028 L43.831,30.776 C48.118,30.448 51.507,26.864 51.507,22.496 L51.507,15.945 C51.507,11.361 47.778,7.631 43.193,7.631 C38.609,7.631 34.88,11.361 34.88,15.945 L34.88,22.496 C34.88,26.615 37.895,30.035 41.832,30.687 L41.832,35.137 C40.154,33.54 38.008,32.236 34.416,32.609 C34.383,32.612 34.353,32.62 34.32,32.624 L21.056,19.361 L29.857,20.339 L30.078,18.352 L17.515,16.956 L18.63,29.773 L20.622,29.6 L19.875,21.008 L32.072,33.205 C29.071,34.47 26.99,37.519 26.444,41.596 C24.986,39.186 22.348,37.566 19.331,37.566 C14.747,37.566 11.018,41.296 11.018,45.88 L11.018,52.431 C11.018,56.55 14.033,59.969 17.97,60.622 L17.97,62.784 C16.283,60.629 13.403,58.206 8.965,58.206 C8.205,58.206 7.413,58.278 6.614,58.421 L5.643,58.594 L5.802,59.567 C5.817,59.661 5.841,59.763 5.861,59.862 C3.455,54.075 2.356,47.755 2.763,41.359 C2.798,40.808 2.38,40.333 1.828,40.297 C1.277,40.254 0.801,40.68 0.766,41.232 C-0.026,53.659 4.566,65.834 13.366,74.634 C21.55,82.814 32.429,87.32 44,87.32 C55.571,87.32 66.45,82.814 74.632,74.632 C91.522,57.742 91.522,30.259 74.632,13.368 Z M67.878,51.076 C67.6,51.076 66.565,50.84 62.977,48.651 C56.217,44.517 52.988,39.455 53.381,33.605 C53.615,30.106 55.402,25.864 59.665,25.424 C60.014,25.388 60.345,25.371 60.661,25.371 C63.755,25.371 65.312,27.111 66.961,28.954 L67.618,29.688 L68.362,29.042 C68.747,28.707 69.113,28.363 69.473,28.024 C70.814,26.761 71.972,25.67 73.838,25.421 C76.304,25.094 78.359,25.756 79.865,27.368 C81.6,29.224 82.468,32.19 82.244,35.507 C81.912,40.474 78.683,44.861 72.648,48.545 C72.419,48.686 72.156,48.851 71.873,49.029 C70.756,49.734 68.675,51.048 67.881,51.077 L67.878,51.076 Z M45.429,28.39 C42.972,27.31 41.927,24.139 41.513,22.182 C42.053,22.31 42.613,22.385 43.191,22.385 C45.89,22.385 48.246,20.906 49.505,18.721 L49.505,22.494 C49.505,25.187 47.807,27.484 45.429,28.39 Z M41.686,10.053 C42.132,10.349 42.763,10.817 43.355,11.413 C43.299,11.411 43.247,11.396 43.191,11.396 C41.15,11.396 39.49,13.056 39.49,15.097 C39.49,17.138 41.15,18.798 43.191,18.798 C45.185,18.798 46.805,17.21 46.879,15.233 L46.883,15.233 C46.888,15.201 46.885,15.171 46.889,15.14 C46.889,15.125 46.893,15.112 46.893,15.097 C46.893,15.093 46.892,15.089 46.892,15.085 C47.112,13.043 46.058,11.34 44.871,10.106 C46.961,10.813 48.48,12.77 48.48,15.096 C48.48,18.012 46.108,20.383 43.192,20.383 C40.276,20.383 37.904,18.011 37.904,15.096 C37.903,12.708 39.506,10.707 41.686,10.053 Z M44.892,15.098 C44.892,16.036 44.129,16.799 43.191,16.799 C42.253,16.799 41.49,16.036 41.49,15.098 C41.49,14.16 42.253,13.397 43.191,13.397 C44.129,13.397 44.892,14.16 44.892,15.098 Z M36.877,22.494 L36.877,18.722 C37.473,19.756 38.315,20.628 39.323,21.263 C39.503,22.64 40.196,26.404 42.529,28.772 C39.357,28.44 36.877,25.752 36.877,22.494 Z M28.334,42.777 C28.569,39.278 30.355,35.036 34.618,34.597 C38.409,34.206 40.033,36.023 41.915,38.126 L42.572,38.86 L43.316,38.214 C43.701,37.879 44.066,37.536 44.426,37.196 C45.767,35.933 46.926,34.842 48.793,34.593 C49.7,34.472 50.556,34.488 51.35,34.636 C51.367,39.086 53.236,43.08 56.918,46.572 C56.469,48.597 55.494,50.519 54.023,52.328 L45.096,43.4 L43.682,44.814 L52.68,53.812 C51.995,54.492 51.232,55.152 50.395,55.794 C49.092,54.946 47.541,54.448 45.874,54.448 C42.905,54.448 40.303,56.017 38.832,58.364 C38.497,58.166 38.188,57.978 37.932,57.822 C31.171,53.692 27.941,48.63 28.334,42.777 Z M50.465,84.788 C49.153,84.994 47.835,85.138 46.513,85.217 L46.513,84.177 L46.845,84.264 C48.117,84.599 49.332,84.771 50.465,84.788 Z M48.538,82.594 C49.55,80.742 52.171,77.09 57.103,77.09 C57.409,77.09 57.722,77.104 58.04,77.132 C57.451,78.999 55.639,82.795 50.644,82.795 C49.981,82.795 49.275,82.728 48.538,82.594 Z M40.587,61.918 C40.587,59.528 42.19,57.526 44.37,56.874 C44.816,57.17 45.446,57.638 46.038,58.233 C45.982,58.23 45.93,58.216 45.874,58.216 C43.833,58.216 42.173,59.876 42.173,61.917 C42.173,63.958 43.833,65.618 45.874,65.618 C47.869,65.618 49.488,64.029 49.562,62.052 L49.566,62.053 C49.57,62.022 49.568,61.992 49.571,61.96 C49.572,61.945 49.576,61.932 49.576,61.917 C49.576,61.913 49.575,61.909 49.575,61.905 C49.795,59.863 48.741,58.16 47.554,56.926 C49.645,57.633 51.163,59.59 51.163,61.916 C51.163,64.831 48.791,67.203 45.875,67.203 C42.958,67.205 40.587,64.833 40.587,61.918 Z M47.575,61.918 C47.575,62.856 46.812,63.619 45.874,63.619 C44.936,63.619 44.173,62.856 44.173,61.918 C44.173,60.98 44.936,60.217 45.874,60.217 C46.813,60.217 47.575,60.979 47.575,61.918 Z M39.561,65.541 C40.157,66.575 40.998,67.447 42.006,68.082 C42.186,69.459 42.879,73.224 45.212,75.592 C42.041,75.26 39.561,72.571 39.561,69.315 L39.561,65.541 L39.561,65.541 Z M48.111,75.21 C45.655,74.13 44.61,70.959 44.195,69.002 C44.735,69.13 45.295,69.205 45.873,69.205 C48.572,69.205 50.928,67.726 52.187,65.541 L52.187,69.314 C52.188,72.007 50.49,74.305 48.111,75.21 Z M21.569,58.326 C19.113,57.246 18.068,54.075 17.654,52.119 C18.194,52.246 18.754,52.321 19.332,52.321 C22.031,52.321 24.388,50.842 25.647,48.656 L25.647,52.43 C25.646,55.123 23.948,57.421 21.569,58.326 Z M17.823,39.991 C18.265,40.287 18.89,40.755 19.48,41.348 C19.429,41.346 19.382,41.333 19.331,41.333 C17.29,41.333 15.63,42.993 15.63,45.034 C15.63,47.075 17.29,48.735 19.331,48.735 C21.326,48.735 22.946,47.146 23.019,45.169 L23.023,45.17 C23.028,45.135 23.025,45.102 23.029,45.066 C23.029,45.055 23.032,45.045 23.032,45.034 C23.032,45.031 23.031,45.028 23.031,45.025 C23.252,42.982 22.198,41.277 21.01,40.044 C23.1,40.751 24.619,42.708 24.619,45.034 C24.619,47.949 22.247,50.321 19.331,50.321 C16.415,50.321 14.043,47.949 14.043,45.034 C14.044,42.646 15.646,40.646 17.823,39.991 Z M21.033,45.034 C21.033,45.972 20.27,46.735 19.332,46.735 C18.394,46.735 17.631,45.972 17.631,45.034 C17.631,44.096 18.394,43.333 19.332,43.333 C20.27,43.333 21.033,44.096 21.033,45.034 Z M13.018,52.431 L13.018,48.659 C13.614,49.693 14.456,50.565 15.464,51.2 C15.644,52.577 16.337,56.341 18.67,58.709 C15.499,58.376 13.018,55.688 13.018,52.431 Z M8.965,60.206 C13.946,60.206 16.541,63.852 17.539,65.708 C16.798,65.843 16.09,65.911 15.424,65.911 L15.424,65.911 C10.458,65.91 8.632,62.114 8.034,60.247 C8.35,60.22 8.661,60.206 8.965,60.206 Z M8.254,64.714 C9.784,66.488 12.092,67.91 15.423,67.911 L15.424,67.911 C16.231,67.911 17.085,67.821 17.969,67.656 L17.969,76.093 C16.869,75.199 15.804,74.242 14.781,73.219 C12.22,70.656 10.037,67.791 8.254,64.714 Z M19.97,77.608 L19.97,67.542 C21.056,67.783 22.099,67.911 23.075,67.911 C29.606,67.911 32.224,62.453 32.697,59.566 L32.856,58.593 L31.885,58.42 C31.086,58.277 30.294,58.205 29.534,58.205 C24.564,58.205 21.544,61.244 19.97,63.543 L19.97,60.71 C24.257,60.382 27.646,56.798 27.646,52.43 L27.646,49.982 C29.267,53.56 32.349,56.756 36.888,59.53 C37.192,59.716 37.568,59.943 37.975,60.182 C37.708,60.995 37.56,61.862 37.56,62.763 L37.56,69.314 C37.56,73.433 40.575,76.852 44.512,77.505 L44.512,80.896 C43.043,78.567 39.965,75.089 34.645,75.089 C33.885,75.089 33.093,75.161 32.294,75.304 L31.323,75.477 L31.482,76.45 C31.954,79.336 34.572,84.794 41.103,84.795 L41.104,84.795 C42.17,84.795 43.316,84.642 44.512,84.356 L44.512,85.291 C35.904,85.396 27.272,82.836 19.97,77.608 Z M20.969,65.71 C21.981,63.858 24.602,60.206 29.534,60.206 C29.838,60.206 30.149,60.22 30.465,60.247 C29.866,62.116 28.04,65.911 23.075,65.911 C22.412,65.911 21.707,65.844 20.969,65.71 Z M43.22,82.592 C42.479,82.727 41.771,82.795 41.105,82.795 L41.105,82.795 C36.139,82.794 34.313,78.998 33.715,77.131 C34.031,77.104 34.342,77.09 34.646,77.09 C39.626,77.09 42.222,80.735 43.22,82.592 Z M73.218,73.219 C67.98,78.457 61.671,81.981 54.992,83.813 C58.392,82.111 59.918,78.583 60.266,76.451 L60.425,75.478 L59.454,75.305 C58.654,75.162 57.863,75.09 57.102,75.09 C50.665,75.09 47.5,80.186 46.511,82.171 L46.511,77.595 C50.798,77.267 54.187,73.683 54.187,69.315 L54.187,62.764 C54.187,60.582 53.336,58.601 51.958,57.117 C52.73,56.505 53.442,55.875 54.094,55.228 L54.77,55.904 L55.724,66.869 L57.716,66.695 L56.968,58.102 L58.305,59.439 L59.259,70.404 L61.251,70.23 L60.503,61.637 L61.842,62.976 L62.794,73.939 L64.786,73.765 L64.04,65.174 L65.377,66.511 L66.329,77.474 L68.321,77.3 L67.575,68.709 L70.841,71.975 L72.255,70.561 L68.757,67.063 L77.557,68.042 L77.778,66.054 L66.493,64.799 L65.222,63.528 L74.022,64.505 L74.243,62.517 L62.958,61.264 L61.687,59.993 L70.487,60.97 L70.708,58.982 L59.423,57.729 L58.151,56.457 L66.953,57.436 L67.174,55.448 L55.886,54.19 L55.446,53.75 C56.938,51.956 57.998,50.047 58.602,48.029 C59.612,48.834 60.716,49.613 61.935,50.358 C65.058,52.263 66.835,53.076 67.878,53.076 L67.957,53.074 C69.187,53.029 70.942,51.981 72.941,50.72 C73.215,50.547 73.469,50.387 73.692,50.251 C80.313,46.209 83.862,41.293 84.241,35.64 C84.26,35.358 84.257,35.084 84.262,34.806 C87.297,48.196 83.622,62.814 73.218,73.219 Z" />
                  <path d="M2.014 38.579C2.065 38.587 2.116 38.59 2.166 38.59 2.651 38.59 3.078 38.236 3.153 37.741 3.276 36.935 3.426 36.117 3.599 35.311 3.715 34.771 3.371 34.239 2.831 34.123 2.289 34.004 1.76 34.351 1.643 34.891 1.461 35.737 1.304 36.594 1.175 37.439 1.093 37.985 1.468 38.496 2.014 38.579zM63.807 46.413C65.943 47.715 67.092 48.231 67.859 48.231 67.88 48.231 67.901 48.231 67.922 48.23L67.865 46.232C67.691 46.219 67.048 46.045 64.849 44.706 60.569 42.088 58.524 38.902 58.771 35.235L56.775 35.101C56.479 39.507 58.909 43.418 63.807 46.413zM57.969 12.026C57.007 10.687 55.447 9.806 53.676 9.806L53.676 11.806C55.491 11.806 56.968 13.283 56.968 15.098L56.969 15.098 58.968 15.098 58.969 15.098C58.969 13.283 60.446 11.806 62.261 11.806L62.261 9.806C60.49 9.806 58.93 10.688 57.969 12.026zM61.193 17.37C63.008 17.37 64.485 18.847 64.485 20.662L64.486 20.662 66.485 20.662 66.486 20.662C66.486 18.847 67.963 17.37 69.778 17.37L69.778 15.37C68.007 15.37 66.447 16.251 65.486 17.59 64.524 16.251 62.964 15.37 61.193 15.37L61.193 17.37z" />
                </g>
              </svg>
            </a>
          </div>

          <div className="column-small-10 column-medium-offset-5 column-medium-6">
            <nav className="header-navigation">
              <ul className="u-list-unstyled" role="navigation">
                <li className="header-navigation_item">
                  <Link
                    activeClass="is-active"
                    className="header-navigation_link"
                    to="event-details"
                    spy={scrollOptions.spy}
                    smooth={scrollOptions.smooth}
                    offset={scrollOptions.offset}
                  >
                    <span className="u-is-hidden-small">
                      Event </span>Details
                  </Link>
                </li>
                <li className="header-navigation_item">
                  <Link
                    activeClass="is-active"
                    className="header-navigation_link"
                    to="accomodations"
                    spy={scrollOptions.spy}
                    smooth={scrollOptions.smooth}
                    offset={scrollOptions.offset}
                  >
                    Accomodations
                  </Link>
                </li>
                <li className="header-navigation_item">
                  <Link
                    activeClass="is-active"
                    className="header-navigation_link"
                    to="registry"
                    spy={scrollOptions.spy}
                    smooth={scrollOptions.smooth}
                    offset={scrollOptions.offset}
                  >
                    Registry
                  </Link>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
    )
  }
}

export default GlobalHeader
